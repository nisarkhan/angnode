
<div id="content" class="container content">

    <h3 class="row title">
        <div class="col-xs-6 text-gray">
            Assigned To: {{ employee.first_name + ', ' + employee.last_name}}
        </div>
        <div class="col-xs-3 text-gray">
            Status: {{ history.type }}
        </div>
        <div class="col-xs-3 text-gray">
            {{ today | date:'MMMM d, y' }}
        </div>
    </h3>

    <div class="row">     
        <div class="col-xs-6">
            <div class="panel panel-default">
                <h4 class="panel-heading">
                    <div class="text-left">
                        Checks in Drawer
                    </div>
                    <div class="text-right">
                        <button class="btn btn-white btn-rounded" data-toggle="modal" data-target="#modal-checks"> 
                            Details <i class="fa fa-long-arrow-right"></i> 
                        </button>
                    </div>
                </h4>
                <div class="panel-body">

                    <div class="row">
                        <div class="row text-gray drawer">
                            <div class="col-xs-3 text-center">
                                Checks Number
                            </div>
                            <div class="col-xs-3 text-center">
                                Check Amount
                            </div>
                            <div class="col-xs-3 text-center">
                                &nbsp;
                            </div>    
                            <div class="col-xs-3 text-center">
                                Total
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-3">
                                <input type="text" class="form-control" placeholder="0" ng-model="check.number" ng-mask="number" required>
                            </div>                           
                            <div class="col-xs-3">
                                <input type="text" class="form-control" placeholder="0" ng-model="check.value"  ng-mask="currency" required>
                            </div>
                            <div class="col-xs-3">
                                <button ng-click="addDoc(check)" class="btn btn-white btn-rounded">
                                    Add
                                </button>
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control" value="{{ (checks_total || 0) | currency}}" readonly="true" />
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
        <div class="col-xs-6">
            <div class="panel panel-default">
                <h4 class="panel-heading">
                    <div class="text-left">
                        Vouchers in Drawer
                    </div>
                    <div class="text-right">
                        <button class="btn btn-white btn-rounded text-right" data-toggle="modal" data-target="#modal-voucher"> 
                            Details <i class="fa fa-long-arrow-right"></i> 
                        </button>
                    </div>
                </h4>

                <div class="panel-body">

                    <div class="row">
                        <div class="row text-gray drawer">
                            <div class="col-xs-3 text-center">
                                Number
                            </div>
                            <div class="col-xs-3 text-center">
                                Amount
                            </div>
                            <div class="col-xs-3 text-center">
                                &nbsp;
                            </div>
                            <div class="col-xs-3 text-center">
                                Total;
                            </div>

                        </div>

                        <div class="form-group">
                            <div class="col-xs-3">
                                <input type="text" class="form-control" placeholder="0" ng-model="voucher.number"  ng-mask="number" >
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control"  placeholder="0" ng-model="voucher.value" ng-mask="currency" >
                            </div>
                            <div class="col-xs-3">
                                <button ng-click="addDoc(voucher)" class="btn btn-white btn-rounded">
                                    Add
                                </button>
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control" value="{{(vouchers_total|| 0)| currency}} " readonly="true" />
                            </div>

                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>

    <div class="row">
        <div class="col-xs-6">
            <div class="panel panel-default">
                <h4 class="panel-heading">
                    <div class="text-left">
                        Cards in Drawer
                    </div>
                    <div class="text-right">
                        <button class="btn btn-white btn-rounded" data-toggle="modal" data-target="#modal-cards"> 
                            Details <i class="fa fa-long-arrow-right"></i> 
                        </button>                       
                    </div>
                </h4>
                <div class="panel-body">

                    <div class="row">
                        <div class="row text-gray drawer">
                            <div class="col-xs-3 text-center">
                                Number
                            </div>
                            <div class="col-xs-3 text-center">
                                Amount
                            </div>
                            <div class="col-xs-3 text-center">
                                &nbsp;
                            </div>
                            <div class="col-xs-3 text-center">
                                Total;
                            </div>

                        </div>

                        <div class="form-group">
                            <div class="col-xs-3">
                                <input type="text" class="form-control" placeholder="0" ng-model="card.number" ng-mask="number" >
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control"  placeholder="0" ng-model="card.value" ng-mask="currency" >
                            </div>
                            <div class="col-xs-3">
                                <button ng-click="addDoc(card)" class="btn btn-white btn-rounded">
                                    Add
                                </button>
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control" value="{{(cards_total|| 0)| currency}} " readonly="true" />
                            </div>

                        </div>
                    </div>
                </div>
            </div>           
        </div>
        <div class="col-xs-6">
            <div class="panel panel-default">
                <h4 class="panel-heading">
                    <div class="text-left" >
                        Money Order in Drawer
                    </div>
                    <div class="text-right">
                        <button class="btn btn-white btn-rounded" data-toggle="modal" data-target="#modal-money-order"> 
                            Details <i class="fa fa-long-arrow-right"></i> 
                        </button>                       
                    </div>

                </h4>
                <div class="panel-body">

                    <div class="row">
                        <div class="row text-gray drawer">
                            <div class="col-xs-3 text-center">
                                Number
                            </div>
                            <div class="col-xs-3 text-center">
                                Amount
                            </div>
                            <div class="col-xs-3 text-center">
                                &nbsp;
                            </div>
                            <div class="col-xs-3 text-center">
                                Total;
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-3">
                                <input type="text" class="form-control" placeholder="0" ng-model="money_order.number" ng-mask="number" >
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control"  placeholder="0" ng-model="money_order.value" ng-mask="currency" >
                            </div>
                            <div class="col-xs-3">
                                <button class="btn btn-white btn-rounded" ng-click="addDoc(money_order)" >
                                    Add
                                </button>
                            </div>
                            <div class="col-xs-3">
                                <input type="text" class="form-control" value="{{(money_orders_total|| 0)| currency}} " readonly="true" />
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>                 
    </div>

    <div class="row">
        <div class="col-xs-6">            
            <div class="panel panel-default">
                <h4 class="panel-heading">Dollar Bills</h4>
                <div class="panel-body">

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">
                            100's
                        </span>
                        <input type="text" class="form-control" ng-model="bills100.count" placeholder="0" ng-change="sum()" ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(bills100.count * bills100.value||0)|currency}}" readonly="true" />

                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">50's</span>
                        <input type="text" class="form-control" ng-model="bills50.count" ng-change="sum()" placeholder="0"  ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(bills50.count * bills50.value||0)|currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">20's</span>
                        <input type="text" class="form-control" ng-model="bills20.count" placeholder="0" ng-change="sum()" ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(bills20.count * bills20.value||0)|currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">10's</span>
                        <input type="text" class="form-control" ng-model="bills10.count" placeholder="0" ng-change="sum()" ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(bills10.count * bills10.value||0)|currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">5's</span>
                        <input type="text" class="form-control" ng-model="bills5.count" placeholder="0" ng-change="sum()" ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(bills5.count * bills5.value|| 0)| currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">1's</span>
                        <input type="text" class="form-control" ng-model="bills1.count" placeholder="0" ng-change="sum()" ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(bills1.count * bills1.value||0)|currency}}" readonly="true" />
                    </div>

                </div>
            </div> 
        </div>

        <div class="col-xs-6">
            <div class="panel panel-default">
                <h4 class="panel-heading">Coins</h4>
                <div class="panel-body">

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">.50</span>
                        <input type="text" class="form-control" ng-model="rolls50.count" ng-mask="number" placeholder="0" ng-change="sum()"  />
                        <span class="input-group-addon input-group-label input-group-middle">x 10.00 +</span>
                        <input type="text" class="form-control" ng-model="coins50.count" placeholder="0" ng-change="sum()"  ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(rolls50.count * 10||0) + (coins50.count * .50 || 0) | currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">.25</span>
                        <input type="text" class="form-control" ng-model="rolls25.count" ng-change="sum()"  placeholder="0" ng-mask="number" />
                        <span class="input-group-addon input-group-label input-group-middle">x 10.00 +</span>
                        <input type="text" class="form-control" ng-model="coins25.count" placeholder="0" ng-change="sum()"  ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(rolls25.count * 10|| 0) + (coins25.count * .25 || 0) | currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">.10</span>
                        <input type="text" class="form-control" ng-model="rolls10.count" ng-change="sum()"  placeholder="0" ng-mask="number" />
                        <span class="input-group-addon input-group-label input-group-middle">x  5.00 +</span>
                        <input type="text" class="form-control" ng-model="coins10.count" placeholder="0" ng-change="sum()"  ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(rolls10.count * 5|| 0) + (coins10.count * .10 || 0) | currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">.05</span>
                        <input type="text" class="form-control" ng-model="rolls5.count" ng-change="sum()"  placeholder="0" ng-mask="number" />
                        <span class="input-group-addon input-group-label input-group-middle">x  2.00 +</span>
                        <input type="text" class="form-control" ng-model="coins5.count" placeholder="0" ng-change="sum()"  ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(rolls5.count * 2|| 0) + (coins5.count * .05 || 0) | currency}}" readonly="true" />
                    </div>

                    <div class="input-group drawer">
                        <span class="input-group-addon input-group-label">.01</span>
                        <input type="text" class="form-control" ng-model="rolls1.count" ng-change="sum()"  placeholder="0" ng-mask="number" />
                        <span class="input-group-addon input-group-label input-group-middle">x  0.50 +</span>
                        <input type="text" class="form-control" ng-model="coins1.count" placeholder="0" ng-change="sum()"  ng-mask="number" />
                        <span class="input-group-addon input-group-middle">=</span>
                        <input type="text" class="form-control" value="{{(rolls1.count * .50|| 0) + (coins1.count * .01 || 0) | currency}}" readonly="true" />
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-xs-12">
            <div class="panel panel-default">
                <h4 class="panel-heading">Summary</h4>
                <div class="panel-body"> 
                    <table width="100%">
                        <thead>
                            <tr>                             
                                <th class="text-center">Checks</th>
                                <th class="text-center">Vouchers</th>
                                <th class="text-center">Cards</th>
                                <th class="text-center">Money Orders</th>
                                <th class="text-center">Cash</th>
                                <th class="text-center">Total </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input class="text-right" type="text" value="{{(checks_total|| 0) | currency}}" readonly="true"> +
                                </td>
                                <td>
                                    <input class="text-right" type="text" value="{{(vouchers_total|| 0) | currency}}" readonly="true"> +
                                </td>
                                <td>
                                    <input class="text-right" type="text" value="{{(cards_total|| 0) | currency}}" readonly="true"> +
                                </td>
                                <td>
                                    <input class="text-right" type="text" class="form-control" value="{{(money_orders_total|| 0) | currency}}" readonly="true"> +
                                </td>
                                <td>
                                    <input class="text-right" type="text" class="form-control" value="{{(cash_total|| 0) | currency}}" readonly="true"> =
                                </td>                               
                                <td>
                                    <input class="text-right" type="text" class="form-control" value="{{(grand_total|| 0) | currency}}" readonly="true">
                                </td>              
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div> 
        </div>             
    </div>

    <div class="row">
        <div class="col-xs-12 text-right">
            <button class="btn btn-default" ng-click="setStatus('Opened')" ng-show="history.type == 'Opened'" > <i class="fa fa-check-circle"></i> Save </button>
            <button class="btn btn-default" ng-click="setStatus('Under Review')" ng-show="history.type == 'Opened'" > <i class="fa fa-check-circle"></i> Submit for Review </button>
            <button class="btn btn-default" ng-click="setStatus('Closed')" ng-show="history.type == 'Under Review'" > <i class="fa fa-check-circle"></i> Close </button>
        </div>
    </div>

    <div class="modal fade" id="modal-checks" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h3 class="modal-title" id="myModalLabel">Check Detail</h3>
                </div>

                <div class="modal-body">

                    <table width="100%" class="table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center">Type</th>
                                <th class="text-center">Number</th>
                                <th class="text-center">Amount</th>
                                <th class="text-center">Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="doc in docs| filter:'Check'">
                                <td class="text-right">{{doc.type}}</td>                                
                                <td class="text-right">{{doc.number}}</td>
                                <td class="text-right">{{(doc.value|| 0)| currency}}</td>>
                                <td><div class="text-center"><button class="btn btn-white btn-rounded" ng-click="deleteDoc(doc)">remove</button></div></td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td class="text-right text-black">Total:</td>
                                <td class="text-right">{{(checks_total|| 0) | currency}}</td>
                                <td>&nbsp;</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-voucher" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h3 class="modal-title" id="myModalLabel">Voucher Detail</h3>
                </div>

                <div class="modal-body">

                    <table width="100%" class="table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center">Type</th>                                
                                <th class="text-center">Number</th>
                                <th class="text-center">Amount</th>
                                <th class="text-center">Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="doc in docs| filter:'Voucher'">
                                <td class="text-right">{{doc.type}}</td>                                  
                                <td class="text-right">{{doc.number}}</td>
                                <td class="text-right">{{(doc.value|| 0)| currency}}</td>
                                <td><div class="text-center"><button class="btn btn-white btn-rounded" ng-click="deleteDoc(doc)">remove</button></div></td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td class="text-right text-black">Total:</td>
                                <td class="text-right">{{(vouchers_total|| 0) | currency}}</td>
                                <td>&nbsp;</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>
            </div>
        </div>
    </div>   

    <div class="modal fade" id="modal-cards" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h3 class="modal-title" id="myModalLabel">Card Detail</h3>
                </div>

                <div class="modal-body">

                    <table width="100%" class="table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center">Type</th>                                
                                <th class="text-center">Number</th>
                                <th class="text-center">Amount</th>
                                <th class="text-center">Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="doc in docs| filter:'Card'">
                                <td class="text-right">{{doc.type}}</td>                                  
                                <td class="text-right">{{doc.number}}</td>
                                <td class="text-right">{{(doc.value|| 0) | currency}}</td>
                                <td><div class="text-center"><button class="btn btn-white btn-rounded" ng-click="deleteDoc(doc)">remove</button></div></td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td class="text-right text-black">Total:</td>
                                <td class="text-right">{{(cards_total|| 0) | currency}}</td>
                                <td>&nbsp</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>
            </div>
        </div>
    </div>       

    <div class="modal fade" id="modal-money-order" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h3 class="modal-title" id="myModalLabel">Money Order Detail</h3>
                </div>

                <div class="modal-body">

                    <table width="100%" class="table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center">Type</th>                                
                                <th class="text-center">Number</th>
                                <th class="text-center">Amount</th>
                                <th class="text-center">Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="doc in docs| filter:'Money Order'">
                                <td class="text-right">{{doc.type}}</td>                                  
                                <td class="text-right">{{doc.number}}</td>
                                <td class="text-right">{{(doc.value|| 0)| currency}}</td>
                                <td><div class="text-center"><button class="btn btn-white btn-rounded" ng-click="deleteDoc(doc)">remove</button></div></td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td class="text-right text-black">Total:</td>
                                <td class="text-right">{{(money_orders_total|| 0) | currency}}</td>
                                <td class="text">&nbsp</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>
            </div>
        </div>
    </div>       
</div>
